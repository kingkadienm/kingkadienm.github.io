(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{364:function(s,t,a){"use strict";a.r(t);var e=a(28),n=Object(e.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"fvm-环境配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#fvm-环境配置"}},[s._v("#")]),s._v(" FVM 环境配置")]),s._v(" "),t("p",[s._v("FVM（Flutter Version Management）用于在本地管理多个 Flutter SDK 版本，方便按项目切换版本，避免全局 Flutter 升级影响所有项目。")]),s._v(" "),t("h2",{attrs:{id:"安装-fvm"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装-fvm"}},[s._v("#")]),s._v(" 安装 FVM")]),s._v(" "),t("h3",{attrs:{id:"macos-linux"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#macos-linux"}},[s._v("#")]),s._v(" macOS / Linux")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 方式一：pub global")]),s._v("\ndart pub global activate fvm\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 方式二：Homebrew（macOS）")]),s._v("\nbrew tap leoafarias/fvm\nbrew "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" fvm\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[s._v("安装后确保 "),t("code",[s._v("$HOME/.pub-cache/bin")]),s._v(" 或 Homebrew 的 bin 已加入 PATH：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PATH")]),s._v(":"),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$HOME")]),s._v('/.pub-cache/bin"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"windows"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#windows"}},[s._v("#")]),s._v(" Windows")]),s._v(" "),t("div",{staticClass:"language-powershell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-powershell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 以管理员运行")]),s._v("\ndart pub global activate fvm\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("将 "),t("code",[s._v("%LOCALAPPDATA%\\Pub\\Cache\\bin")]),s._v(" 加入系统环境变量 Path。")]),s._v(" "),t("h2",{attrs:{id:"常用命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#常用命令"}},[s._v("#")]),s._v(" 常用命令")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看已安装的 Flutter 版本")]),s._v("\nfvm list\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装指定版本（不设为项目使用版本）")]),s._v("\nfvm "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.16")]),s._v(".0\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 为当前项目指定使用的 Flutter 版本（会生成 .fvm 目录）")]),s._v("\nfvm use "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.16")]),s._v(".0\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用稳定版最新")]),s._v("\nfvm use stable\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用 beta / master")]),s._v("\nfvm use beta\nfvm use master\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看当前项目使用的版本")]),s._v("\nfvm flutter "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--version")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 移除项目绑定的版本（删除 .fvm）")]),s._v("\nfvm use "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--remove")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br")])]),t("h2",{attrs:{id:"项目内使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#项目内使用"}},[s._v("#")]),s._v(" 项目内使用")]),s._v(" "),t("p",[s._v("在项目根目录执行 "),t("code",[s._v("fvm use 3.16.0")]),s._v(" 后：")]),s._v(" "),t("ul",[t("li",[s._v("会创建 "),t("code",[s._v(".fvm/")]),s._v(" 目录，内含当前使用的 Flutter SDK 的链接或配置。")]),s._v(" "),t("li",[s._v("会生成或更新 "),t("code",[s._v(".fvmrc")]),s._v(" 或 "),t("code",[s._v("fvm_config.json")]),s._v("，记录版本号，便于团队统一。")])]),s._v(" "),t("p",[t("strong",[s._v("推荐：用 FVM 的 Flutter 执行所有命令，避免混用全局 Flutter：")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 运行、构建、测试等都用 fvm 前缀")]),s._v("\nfvm flutter pub get\nfvm flutter run\nfvm flutter build apk\nfvm flutter "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[s._v("也可直接使用 "),t("code",[s._v(".fvm/flutter_sdk")]),s._v(" 下的 Flutter（FVM 会在此创建符号链接）：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v(".fvm/flutter_sdk/bin/flutter run\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"ide-配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ide-配置"}},[s._v("#")]),s._v(" IDE 配置")]),s._v(" "),t("h3",{attrs:{id:"vs-code"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#vs-code"}},[s._v("#")]),s._v(" VS Code")]),s._v(" "),t("ol",[t("li",[s._v("安装插件："),t("strong",[s._v("Flutter")]),s._v("（以及 "),t("strong",[s._v("Dart")]),s._v("）。")]),s._v(" "),t("li",[s._v("设置 Flutter SDK 路径为项目内的 FVM 路径：\n"),t("ul",[t("li",[s._v("打开项目根目录（包含 "),t("code",[s._v(".fvm")]),s._v(" 的目录）。")]),s._v(" "),t("li",[t("code",[s._v("Ctrl/Cmd + Shift + P")]),s._v(" → “Flutter: Change SDK”，选择 "),t("code",[s._v(".fvm/flutter_sdk")]),s._v("；"),t("br"),s._v("\n或在 "),t("code",[s._v(".vscode/settings.json")]),s._v(" 中配置：")])])])]),s._v(" "),t("div",{staticClass:"language-json line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"dart.flutterSdkPath"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('".fvm/flutter_sdk"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("ol",{attrs:{start:"3"}},[t("li",[s._v("若使用 "),t("strong",[s._v("fvm")]),s._v(" 插件，可在命令面板执行 “FVM: Select Flutter SDK” 选择版本。")])]),s._v(" "),t("h3",{attrs:{id:"android-studio-intellij"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#android-studio-intellij"}},[s._v("#")]),s._v(" Android Studio / IntelliJ")]),s._v(" "),t("ol",[t("li",[s._v("安装 "),t("strong",[s._v("Flutter")]),s._v(" 插件。")]),s._v(" "),t("li",[t("strong",[s._v("File → Settings → Languages & Frameworks → Flutter")]),s._v("，将 Flutter SDK path 设为项目内的 "),t("code",[s._v(".fvm/flutter_sdk")]),s._v("（绝对路径），例如：\n"),t("ul",[t("li",[s._v("macOS/Linux: "),t("code",[s._v("/path/to/your_project/.fvm/flutter_sdk")])]),s._v(" "),t("li",[s._v("Windows: "),t("code",[s._v("C:\\path\\to\\your_project\\.fvm\\flutter_sdk")])])])])]),s._v(" "),t("p",[s._v("这样 IDE 的 Run/Debug、代码补全、分析都基于该版本。")]),s._v(" "),t("h2",{attrs:{id:"fvmrc-与团队协作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#fvmrc-与团队协作"}},[s._v("#")]),s._v(" .fvmrc 与团队协作")]),s._v(" "),t("p",[s._v("项目根目录的 "),t("code",[s._v(".fvmrc")]),s._v(" 示例：")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("3.16.0\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("或使用 "),t("code",[s._v("fvm_config.json")]),s._v("：")]),s._v(" "),t("div",{staticClass:"language-json line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"flutter"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3.16.0"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("团队成员拉代码后执行一次 "),t("code",[s._v("fvm install")]),s._v("（或 "),t("code",[s._v("fvm use")]),s._v("）即可使用相同版本，CI 里也可用 "),t("code",[s._v("fvm use")]),s._v(" 再 "),t("code",[s._v("fvm flutter ...")]),s._v(" 保证版本一致。")]),s._v(" "),t("h2",{attrs:{id:"与全局-flutter-的关系"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#与全局-flutter-的关系"}},[s._v("#")]),s._v(" 与全局 Flutter 的关系")]),s._v(" "),t("ul",[t("li",[s._v("全局安装的 "),t("code",[s._v("flutter")]),s._v(" 仍可使用；FVM 只是在项目目录下通过 "),t("code",[s._v(".fvm")]),s._v(" 绑定一个版本。")]),s._v(" "),t("li",[s._v("建议：项目开发统一用 "),t("code",[s._v("fvm flutter")]),s._v(" 或 IDE 指向 "),t("code",[s._v(".fvm/flutter_sdk")]),s._v("，避免“本地是 FVM、CI 是全局”导致版本不一致。")])]),s._v(" "),t("h2",{attrs:{id:"常见问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#常见问题"}},[s._v("#")]),s._v(" 常见问题")]),s._v(" "),t("ul",[t("li",[t("p",[t("strong",[s._v("fvm: command not found")]),t("br"),s._v("\n检查 PATH 是否包含 "),t("code",[s._v("pub global activate fvm")]),s._v(" 后的 bin 目录，或重新打开终端。")])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("IDE 仍用全局 Flutter")]),t("br"),s._v("\n确认 IDE 的 Flutter SDK 路径指向项目 "),t("code",[s._v(".fvm/flutter_sdk")]),s._v("，并重启 IDE。")])]),s._v(" "),t("li",[t("p",[t("strong",[s._v(".fvm 要不要提交")]),t("br"),s._v("\n一般提交 "),t("code",[s._v(".fvmrc")]),s._v("（或 "),t("code",[s._v("fvm_config.json")]),s._v("），不提交 "),t("code",[s._v(".fvm/flutter_sdk")]),s._v("（或只提交其内的版本标识，视 FVM 版本而定）；团队统一执行 "),t("code",[s._v("fvm use")]),s._v(" 或 "),t("code",[s._v("fvm install")]),s._v(" 即可。")])])])])}),[],!1,null,null,null);t.default=n.exports}}]);