(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{346:function(t,e,i){"use strict";i.r(e);var a=i(28),r=Object(a.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"android进阶"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#android进阶"}},[t._v("#")]),t._v(" Android进阶")]),t._v(" "),e("h2",{attrs:{id:"架构模式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#架构模式"}},[t._v("#")]),t._v(" 架构模式")]),t._v(" "),e("h3",{attrs:{id:"mvvm"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mvvm"}},[t._v("#")]),t._v(" MVVM")]),t._v(" "),e("ul",[e("li",[t._v("Model：数据与业务逻辑；View：界面；ViewModel：暴露状态与命令，不持有 View 引用。")]),t._v(" "),e("li",[t._v("数据驱动：ViewModel 通过 LiveData/StateFlow 暴露 UI 状态，View 观察并更新。")]),t._v(" "),e("li",[t._v("生命周期安全：LiveData/StateFlow 与 Lifecycle 绑定，避免内存泄漏。")])]),t._v(" "),e("h3",{attrs:{id:"repository-模式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#repository-模式"}},[t._v("#")]),t._v(" Repository 模式")]),t._v(" "),e("ul",[e("li",[t._v("统一数据入口：本地（Room、DataStore）与远程（Retrofit）在 Repository 中聚合。")]),t._v(" "),e("li",[t._v("可做缓存策略：先内存/本地，再网络；可暴露 Flow 实现响应式。")])]),t._v(" "),e("h3",{attrs:{id:"依赖注入-hilt"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#依赖注入-hilt"}},[t._v("#")]),t._v(" 依赖注入（Hilt）")]),t._v(" "),e("ul",[e("li",[t._v("构造注入、单例与作用域、模块与组件；便于测试与解耦。")]),t._v(" "),e("li",[t._v("@Inject、@Module、@Provides、@AndroidEntryPoint、@HiltViewModel。")])]),t._v(" "),e("h2",{attrs:{id:"kotlin-协程"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#kotlin-协程"}},[t._v("#")]),t._v(" Kotlin 协程")]),t._v(" "),e("ul",[e("li",[t._v("挂起函数：suspend；CoroutineScope（lifecycleScope、viewModelScope）；launch、async；withContext 切换调度器（Dispatchers.Main/IO/Default）。")]),t._v(" "),e("li",[t._v("取消与异常：Job.cancel、CoroutineExceptionHandler；取消会传播，需在耗时处检查 isActive 或 yield。")]),t._v(" "),e("li",[t._v("Flow：冷流、collect、map、filter、flatMapConcat、stateIn/shareIn；用于替代 LiveData 做更复杂流式数据。")])]),t._v(" "),e("h2",{attrs:{id:"jetpack-组件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#jetpack-组件"}},[t._v("#")]),t._v(" Jetpack 组件")]),t._v(" "),e("ul",[e("li",[t._v("ViewModel：配置变更存活、与 Activity/Fragment 生命周期关联。")]),t._v(" "),e("li",[t._v("LiveData：可观察、生命周期感知、主线程分发；observe、observeAsState（Compose）。")]),t._v(" "),e("li",[t._v("Room：DAO、Entity、Database；TypeConverter、Migration；配合 Flow 返回 Flow<List"),e("T",[t._v(">。")])],1),t._v(" "),e("li",[t._v("WorkManager：延迟/周期/约束任务；OneTimeWorkRequest、PeriodicWorkRequest；链式与唯一工作。")]),t._v(" "),e("li",[t._v("Navigation：NavHost、NavController、SafeArgs；单 Activity 多 Fragment 或 Compose 路由。")]),t._v(" "),e("li",[t._v("DataStore：替代 SharedPreferences；Preferences DataStore、Proto DataStore。")])]),t._v(" "),e("h2",{attrs:{id:"网络与序列化"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#网络与序列化"}},[t._v("#")]),t._v(" 网络与序列化")]),t._v(" "),e("ul",[e("li",[t._v("Retrofit：接口定义、@GET/@POST、@Body/@Query/@Path；Call 或 suspend 函数；Converter（Gson/Moshi）。")]),t._v(" "),e("li",[t._v("OkHttp：Interceptor（日志、鉴权、重试）；Cookie、缓存；可单独使用或作为 Retrofit 底层。")]),t._v(" "),e("li",[t._v("序列化：Gson、Moshi、kotlinx.serialization；注意 ProGuard 规则。")])]),t._v(" "),e("h2",{attrs:{id:"性能与优化"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#性能与优化"}},[t._v("#")]),t._v(" 性能与优化")]),t._v(" "),e("ul",[e("li",[t._v("列表：RecyclerView + ViewHolder、DiffUtil、预取；避免在 onBindViewHolder 做重逻辑。")]),t._v(" "),e("li",[t._v("图片：Glide/Coil 加载、占位与错误图、缓存、缩略图与采样；大图或长列表注意内存。")]),t._v(" "),e("li",[t._v("启动：Application 与首屏精简、懒加载、异步初始化、Baseline Profile；避免主线程阻塞。")]),t._v(" "),e("li",[t._v("内存：LeakCanary 检测；避免非静态内部类持有多余引用、及时取消协程与监听。")]),t._v(" "),e("li",[t._v("包体积：minify、shrinkResources、ABI 过滤、资源与 so 优化。")])]),t._v(" "),e("h2",{attrs:{id:"安全与存储"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安全与存储"}},[t._v("#")]),t._v(" 安全与存储")]),t._v(" "),e("ul",[e("li",[t._v("敏感数据：EncryptedSharedPreferences、Keystore；密钥不硬编码。")]),t._v(" "),e("li",[t._v('组件导出：不需要的 Activity/Service 等设 android:exported="false"；深链与 intent-filter 需校验数据。')]),t._v(" "),e("li",[t._v("网络安全：HTTPS、证书锁定（谨慎）、不要忽略证书错误。")])]),t._v(" "),e("h2",{attrs:{id:"测试"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#测试"}},[t._v("#")]),t._v(" 测试")]),t._v(" "),e("ul",[e("li",[t._v("单元测试：JUnit4/5、Mockito/MockK；ViewModel、Repository、UseCase 的纯逻辑。")]),t._v(" "),e("li",[t._v("UI 测试：Espresso；Idling Resource 处理异步；必要时用 Barista 等封装。")]),t._v(" "),e("li",[t._v("测试架构：清晰分层便于 mock；依赖注入便于替换实现。")])]),t._v(" "),e("h2",{attrs:{id:"最佳实践小结"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#最佳实践小结"}},[t._v("#")]),t._v(" 最佳实践小结")]),t._v(" "),e("ul",[e("li",[t._v("使用 Kotlin、协程、Flow、ViewModel、Repository、Hilt。")]),t._v(" "),e("li",[t._v("统一错误处理与加载/空状态；网络与缓存策略明确。")]),t._v(" "),e("li",[t._v("遵循 Material Design 与无障碍；适配深色主题与多分辨率。")]),t._v(" "),e("li",[t._v("日志与埋点规范；ProGuard 与混淆规则完整；版本与依赖管理清晰。")])])])}),[],!1,null,null,null);e.default=r.exports}}]);